# THIS FILE IS AUTOMATICALLY GENERATED. DO NOT EDIT BY HAND
# template file is zip
FROM alpine:3.9 AS download
RUN apk add curl libarchive-tools
RUN curl -OL https://downloads.sourceforge.net/project/snpeff/snpEff_v4_3_core.zip
RUN bsdtar xf snpEff_v4_3_core.zip

FROM alpine:3.9
RUN apk add bash openjdk8-jre nss
COPY --from=download /snpEff /opt/snpEff
ENV JAVA_OPTIONS -Xmx4g
RUN echo 'java ${JAVA_OPTIONS} -jar /opt/snpEff/snpEff.jar "${@}"' > /usr/bin/snpEff && chmod +x /usr/bin/snpEff
RUN echo 'java ${JAVA_OPTIONS} -jar /opt/snpEff/SnpSift.jar "${@}"' > /usr/bin/SnpSift && chmod +x /usr/bin/SnpSift

ADD run.sh /run.sh
ENTRYPOINT [ "/bin/bash", "/run.sh" ]